<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Инструментарий руководителя группы продаж АН Этажи</title>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
/* Кастомные CSS переменные */
:root {
  --primary: #FC403A;           
  --primary-dark: #d63531;      
  --secondary: #ff6b66;         
  --accent: #FFFFFF;            
  --bg-primary: #130909;        
  --bg-secondary: #232326;      
  --bg-card: rgba(252, 64, 58, 0.08); 
  --text-primary: #FFFFFF;      
  --text-secondary: #ffd9d8;    
  --border: rgba(252, 64, 58, 0.15);
  --black: #130909;             
  --white: #FFFFFF;             
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body, html {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  background: #FFFFFF;
  color: #130909;
  min-height: 100vh;
  overflow-x: hidden;
}

/* Плавная анимация загрузки страницы */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Анимированный градиентный фон для body */
body {
  background: linear-gradient(135deg, #ffffff 0%, #fef7f7 50%, #ffffff 100%);
  background-size: 400% 400%;
  animation: subtleGradient 8s ease-in-out infinite;
}

@keyframes subtleGradient {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

/* Частицы */
.bg-particles {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: -1;
}

.particle {
  position: absolute;
  background: var(--primary);
  border-radius: 50%;
  opacity: 0;
  animation: improvedFloat 12s infinite linear;
  box-shadow: 0 0 8px rgba(252, 64, 58, 0.6), 0 0 16px rgba(252, 64, 58, 0.3);
}

.particle:nth-child(odd) {
  animation-duration: 10s;
  background: linear-gradient(45deg, #FC403A, #ff6b66);
}

.particle:nth-child(3n) {
  animation-duration: 14s;
  width: 6px;
  height: 6px;
}

@keyframes improvedFloat {
  0% { 
    transform: translateY(100vh) rotate(0deg) scale(0); 
    opacity: 0; 
  }
  5% { 
    opacity: 0.8;
    transform: translateY(95vh) rotate(36deg) scale(1); 
  }
  95% { 
    opacity: 0.8; 
  }
  100% { 
    transform: translateY(-100px) rotate(720deg) scale(0); 
    opacity: 0; 
  }
}

/* Хедер */
header {
  backdrop-filter: blur(20px);
  background: rgba(255, 255, 255, 0.95);
  border-bottom: 1px solid rgba(252, 64, 58, 0.1);
  box-shadow: 0 8px 32px rgba(252, 64, 58, 0.08);
  position: sticky;
  top: 0;
  z-index: 100;
  transition: all 0.3s ease;
}

/* Сетка карточек */
.cards-grid-container {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1.5rem;
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 1rem;
}

/* ИСПРАВЛЕННЫЕ СТИЛИ КАРТОЧЕК */
.modern-card {
  background: linear-gradient(135deg, #FC403A, #ff6b66);
  color: #FFFFFF;
  border: none;
  border-radius: 24px;
  padding: 2rem;
  position: relative;
  overflow: hidden;
  cursor: pointer;
  box-shadow: 
    0 8px 32px rgba(252, 64, 58, 0.15),
    0 4px 16px rgba(252, 64, 58, 0.1);
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
  letter-spacing: 0.01em;
  user-select: none;
  transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  animation: fadeInUp 0.6s ease forwards;
  opacity: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  min-height: 200px;
  outline: none;
}

/* Focus для доступности */
.modern-card:focus {
  outline: 3px solid rgba(252, 64, 58, 0.5);
  outline-offset: 2px;
}

/* Задержка анимации для каждой карточки */
.modern-card:nth-child(1) { animation-delay: 0.1s; }
.modern-card:nth-child(2) { animation-delay: 0.2s; }
.modern-card:nth-child(3) { animation-delay: 0.3s; }
.modern-card:nth-child(4) { animation-delay: 0.4s; }
.modern-card:nth-child(5) { animation-delay: 0.5s; }
.modern-card:nth-child(6) { animation-delay: 0.6s; }
.modern-card:nth-child(7) { animation-delay: 0.7s; }
.modern-card:nth-child(8) { animation-delay: 0.8s; }
.modern-card:nth-child(9) { animation-delay: 0.9s; }

/* Hover эффекты */
.modern-card:hover {
  transform: translateY(-8px) scale(1.05);
  box-shadow: 0 20px 40px rgba(252, 64, 58, 0.3);
  background: linear-gradient(135deg, #d63531, #FC403A);
}

.modern-card:active {
  transform: translateY(-2px) scale(0.95);
  transition: transform 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

/* Иконки */
.gradient-icon {
  width: 60px;
  height: 60px;
  border-radius: 16px;
  background: rgba(255, 255, 255, 0.2);
  backdrop-filter: blur(20px);
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 1rem;
  position: relative;
  transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  border: 1px solid rgba(255, 255, 255, 0.3);
}

.modern-card:hover .gradient-icon {
  transform: rotateY(360deg) scale(1.1);
  background: rgba(255, 255, 255, 0.3);
}

.gradient-icon img {
  transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  border-radius: 12px;
}

/* Заголовок */
.animated-title {
  display: inline-block;
  background: linear-gradient(45deg, #FC403A, #ff6b66, #FC403A, #d63531);
  background-size: 400% 400%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: 
    titleGradient 6s ease-in-out infinite,
    titlePulse 3s ease-in-out infinite alternate;
  text-shadow: 0 0 30px rgba(252, 64, 58, 0.3);
}

@keyframes titleGradient {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

@keyframes titlePulse {
  0% { transform: scale(1); }
  100% { transform: scale(1.01); }
}

/* Страница аналитики */
#analyticsPage {
  background: #FFFFFF;
  opacity: 0;
  transition: opacity 0.5s ease;
}

#analyticsPage.show {
  opacity: 1;
}

/* Навигационные кнопки */
.nav-buttons {
  display: flex;
  gap: 0.75rem;
  align-items: center;
}

.nav-button {
  background: #FC403A;
  color: #FFFFFF;
  border: none;
  border-radius: 12px;
  padding: 8px 12px;
  font-size: 0.8rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  box-shadow: 0 4px 12px rgba(252, 64, 58, 0.15);
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-family: 'Inter', sans-serif;
  min-height: 36px;
  outline: none;
}

.nav-button:hover {
  background: #d63531;
  transform: translateY(-2px);
  box-shadow: 0 8px 20px rgba(252, 64, 58, 0.25);
}

.nav-button:active {
  transform: translateY(0px) scale(0.95);
}

.nav-button:focus {
  outline: 2px solid rgba(252, 64, 58, 0.5);
  outline-offset: 2px;
}

.nav-button svg {
  width: 16px;
  height: 16px;
  flex-shrink: 0;
}

/* Аналитические кнопки */
.analytics-button {
  background: #FC403A;
  color: #FFFFFF;
  border: none;
  border-radius: 18px;
  box-shadow: 0 6px 20px rgba(252, 64, 58, 0.15);
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
  font-weight: 500;
  transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  cursor: pointer;
  user-select: none;
  outline: none;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  position: relative;
  overflow: hidden;
  height: 120px;
  min-height: 120px;
  font-size: 1.08rem;
  padding: 1.5rem;
}

.analytics-button:hover {
  background: #d63531;
  transform: translateY(-8px) scale(1.05);
  box-shadow: 0 20px 40px rgba(252, 64, 58, 0.3);
}

.analytics-button:active {
  transform: translateY(-2px) scale(0.95);
  transition: transform 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.analytics-button:focus {
  outline: 3px solid rgba(252, 64, 58, 0.5);
  outline-offset: 2px;
}

/* Логотип */
.logo-container {
  position: relative;
  display: inline-block;
  transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  cursor: pointer;
}

.logo-image {
  max-height: 48px;
  width: auto;
  border-radius: 12px;
  transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  filter: 
    drop-shadow(0 4px 8px rgba(252, 64, 58, 0.2))
    drop-shadow(0 0 16px rgba(252, 64, 58, 0.1));
}

.logo-container:hover {
  transform: scale(1.1);
}

.logo-container:hover .logo-image {
  filter: 
    drop-shadow(0 8px 16px rgba(252, 64, 58, 0.35))
    drop-shadow(0 0 24px rgba(252, 64, 58, 0.25));
}

/* Текст карточек */
.modern-card h3,
.modern-card p {
  color: #FFFFFF;
  font-family: inherit;
  position: relative;
  z-index: 1;
  transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.modern-card:hover h3 {
  transform: translateY(-1px);
}

.modern-card:hover p {
  transform: translateY(1px);
}

/* Скроллбар */
::-webkit-scrollbar {
  width: 12px;
}

::-webkit-scrollbar-track {
  background: linear-gradient(180deg, #f5f5f5, #f0f0f0);
  border-radius: 6px;
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(135deg, #FC403A, #ff6b66);
  border-radius: 6px;
  border: 2px solid #f5f5f5;
  transition: all 0.3s ease;
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(135deg, #d63531, #FC403A);
  transform: scale(1.1);
}

/* Основные цвета страницы */
#mainPage {
  background: #FFFFFF;
  color: #130909;
}

header h1,
header p,
#mainPage h2,
#mainPage > div > div > p {
  color: #130909;
}

header h1 {
  color: #FC403A;
}

.subtitle-text {
  color: #666;
}

.header-main-custom {
  margin-bottom: 4rem;
}

/* Поиск */
.search-input {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
  color: #130909;
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(10px);
  transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  text-align: center;
}

.search-input:focus {
  border-color: #FC403A;
  box-shadow: 0 0 0 3px rgba(252, 64, 58, 0.1);
  background: rgba(255, 255, 255, 1);
  text-align: left;
  outline: none;
}

.search-input:not(:placeholder-shown) {
  text-align: left;
}

.search-results {
  background: rgba(255, 255, 255, 0.98);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(252, 64, 58, 0.1);
  animation: fadeInDown 0.3s ease;
}

@keyframes fadeInDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.search-result-item {
  padding: 12px 16px;
  cursor: pointer;
  border-bottom: 1px solid rgba(252, 64, 58, 0.05);
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  gap: 12px;
}

.search-result-item:hover {
  background: rgba(252, 64, 58, 0.05);
  transform: translateX(4px);
}

.search-result-item:last-child {
  border-bottom: none;
}

.search-result-icon {
  width: 32px;
  height: 32px;
  border-radius: 8px;
  object-fit: cover;
  flex-shrink: 0;
}

.search-result-text {
  flex: 1;
}

.search-result-title {
  font-weight: 600;
  color: #130909;
  font-size: 0.9rem;
  margin-bottom: 2px;
}

.search-result-description {
  color: #666;
  font-size: 0.8rem;
  line-height: 1.3;
}

/* Прелоадер */
.loading-indicator {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 50px;
  height: 50px;
  border: 3px solid rgba(252, 64, 58, 0.1);
  border-top-color: #FC403A;
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
  z-index: 9999;
  display: none;
  pointer-events: none;
}

@keyframes spin {
  to { transform: translate(-50%, -50%) rotate(360deg); }
}

/* Прогресс прокрутки */
.scroll-progress {
  position: fixed;
  top: 0;
  left: 0;
  height: 3px;
  width: 0;
  background: linear-gradient(90deg, #FC403A, #ff6b66);
  z-index: 101;
  transition: width 0.2s ease;
  box-shadow: 0 0 10px rgba(252, 64, 58, 0.5);
}

/* Быстрый доступ */
.quick-access {
  background: rgba(252, 64, 58, 0.03);
  border-radius: 24px;
  padding: 1.5rem;
  margin-bottom: 2rem;
  border: 1px solid rgba(252, 64, 58, 0.1);
  position: relative;
  overflow: hidden;
}

.quick-access-title {
  font-size: 1.1rem;
  font-weight: 600;
  color: #130909;
  margin-bottom: 1rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.quick-access-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
  gap: 0.75rem;
  position: relative;
  z-index: 1;
}

.quick-access-item {
  background: white;
  border: 1px solid rgba(252, 64, 58, 0.1);
  border-radius: 16px;
  padding: 1rem;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  display: flex;
  align-items: center;
  gap: 0.75rem;
  position: relative;
  overflow: hidden;
}

.quick-access-item:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(252, 64, 58, 0.15);
  border-color: rgba(252, 64, 58, 0.3);
}

.quick-access-icon {
  width: 32px;
  height: 32px;
  border-radius: 8px;
  object-fit: cover;
  flex-shrink: 0;
}

.quick-access-text {
  font-size: 0.85rem;
  font-weight: 500;
  color: #130909;
  line-height: 1.2;
}

/* Мобильная адаптация */
@media (max-width: 768px) {
  .cards-grid-container {
    grid-template-columns: repeat(2, 1fr);
    gap: 0.75rem;
    padding: 0 0.75rem;
  }
  
  .modern-card {
    padding: 1rem;
    border-radius: 18px;
    min-height: 140px;
  }
  
  .modern-card h3 {
    font-size: 0.9rem;
    font-weight: 600;
    margin-bottom: 0.25rem;
    line-height: 1.2;
  }
  
  .modern-card p {
    font-size: 0.7rem;
    line-height: 1.3;
    opacity: 0.9;
  }
  
  .gradient-icon {
    width: 40px;
    height: 40px;
    margin-bottom: 0.75rem;
    border-radius: 10px;
  }
  
  .gradient-icon img {
    width: 36px;
    height: 36px;
    border-radius: 8px;
  }
  
  .animated-title {
    font-size: 2rem;
  }
  
  .subtitle-text {
    font-size: 0.9rem;
    padding: 0 1rem;
  }
  
  .particle {
    width: 2px;
    height: 2px;
    animation-duration: 8s;
  }
  
  .logo-image {
    max-height: 40px;
  }
  
  .header-main-custom {
    margin-bottom: 2rem;
  }
  
  .analytics-button {
    height: 100px;
    min-height: 100px;
    font-size: 0.85rem;
    padding: 1rem;
  }

  .nav-button {
    padding: 6px 10px;
    font-size: 0.75rem;
    min-height: 32px;
    gap: 0.375rem;
  }

  .nav-button svg {
    width: 14px;
    height: 14px;
  }

  .nav-buttons {
    gap: 0.5rem;
  }
}

@media (max-width: 480px) {
  .cards-grid-container {
    grid-template-columns: repeat(2, 1fr);
    gap: 0.5rem;
    padding: 0 0.5rem;
  }
  
  .modern-card {
    padding: 0.75rem;
    min-height: 120px;
    border-radius: 14px;
  }
  
  .modern-card h3 {
    font-size: 0.8rem;
    margin-bottom: 0.2rem;
    line-height: 1.1;
  }
  
  .modern-card p {
    font-size: 0.65rem;
    line-height: 1.2;
  }
  
  .gradient-icon {
    width: 32px;
    height: 32px;
    margin-bottom: 0.5rem;
  }
  
  .gradient-icon img {
    width: 28px;
    height: 28px;
    border-radius: 6px;
  }
  
  .animated-title {
    font-size: 1.75rem;
  }

  .nav-button {
    padding: 4px 8px;
    font-size: 0.7rem;
    min-height: 28px;
    gap: 0.25rem;
  }

  .nav-button svg {
    width: 12px;
    height: 12px;
  }
}

/* Отключение hover эффектов на тач-устройствах */
@media (hover: none) {
  .modern-card:hover,
  .analytics-button:hover,
  .logo-container:hover,
  .nav-button:hover {
    transform: none;
    box-shadow: initial;
    background: #FC403A;
  }
  
  .modern-card:active,
  .analytics-button:active,
  .nav-button:active {
    transform: scale(0.95);
    transition: transform 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    background: #d63531;
  }
  
  .logo-container:active {
    transform: scale(0.98);
    transition: transform 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }
}

/* Улучшения анимаций */
@media (prefers-reduced-motion: reduce) {
  .modern-card,
  .particle,
  .animated-title,
  .nav-button,
  .analytics-button {
    animation: none;
    transition: none;
  }
  
  .modern-card {
    opacity: 1;
  }
}

/* Дополнительные улучшения для лучшей производительности */
.modern-card,
.nav-button,
.analytics-button {
  will-change: transform;
}

.particle {
  will-change: transform, opacity;
}
</style>
</head>

<body>
  <!-- Прелоадер -->
  <div class="loading-indicator" id="loadingIndicator"></div>
  
  <!-- Индикатор прогресса прокрутки -->
  <div class="scroll-progress" id="scrollProgress"></div>

  <!-- Анимированные частицы фона -->
  <div class="bg-particles" id="particles"></div>

  <!-- Главная страница -->
  <div id="mainPage" class="min-h-screen flex flex-col">

    <!-- Хедер -->
    <header class="py-4 md:py-6 px-4 header-main-custom">
      <div class="max-w-7xl mx-auto flex items-center justify-start">
        <div class="logo-container" tabindex="0" role="button" aria-label="Логотип компании">
          <img src="https://i.postimg.cc/xTfKTV6w/image.png"
               alt="Логотип АН Этажи"
               class="logo-image w-auto object-contain" />
        </div>
      </div>
    </header>

    <!-- Основной контент -->
    <main class="flex-1 px-4">
      <div class="max-w-7xl mx-auto">
        <!-- Заголовок секции -->
        <div class="text-center mb-8 md:mb-16">
          <h2 class="text-3xl md:text-4xl lg:text-5xl font-bold mb-4">
            <span class="animated-title">Ключевые инструменты руководителя</span>
          </h2>
          <p class="text-lg md:text-xl subtitle-text max-w-2xl mx-auto px-4 mb-6">
            Легкое управление сложными процессами продаж и командной работы
          </p>
          
          <!-- Поисковая строка -->
          <div class="max-w-lg mx-auto px-4 mb-8">
            <div class="relative">
              <input 
                id="searchInput"
                class="search-input w-full px-4 py-3 text-base border-2 border-gray-200 rounded-2xl focus:outline-none focus:border-red-400 transition-all duration-300 bg-white shadow-sm text-center"
                placeholder="Найти нужное за секунду"
                type="text" 
                value=""
                autocomplete="off"
                aria-label="Поиск по инструментам">
              <div class="absolute inset-y-0 right-0 flex items-center pr-4">
                <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                </svg>
              </div>
              
              <!-- Выпадающий список результатов -->
              <div id="searchResults" class="search-results absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-2xl shadow-lg mt-2 max-h-60 overflow-y-auto z-50" style="display: none;" role="listbox" aria-label="Результаты поиска">
                <!-- Результаты поиска будут добавляться сюда через JavaScript -->
              </div>
            </div>
          </div>
        </div>

        <!-- Секция быстрого доступа -->
        <div id="quickAccessSection" style="display: none;">
          <!-- Недавно использованные -->
          <div class="quick-access" id="recentSection" style="display: none;">
            <h3 class="quick-access-title">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="#FC403A" aria-hidden="true">
                <path d="M13 3a9 9 0 0 0-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42A8.954 8.954 0 0 0 13 21a9 9 0 0 0 0-18zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"/>
              </svg>
              Недавние
            </h3>
            <div class="quick-access-grid" id="recentGrid">
              <!-- Недавние элементы -->
            </div>
          </div>
        </div>

        <!-- Сетка карточек -->
        <div class="cards-grid-container mb-8 md:mb-16">

          <!-- Карточка "Аналитика продаж" -->
          <div class="modern-card" 
               data-url="pages/analytics.html" 
               tabindex="0" 
               role="button" 
               aria-label="Аналитика продаж - системный анализ и автоматизация процессов продаж">
            <div class="gradient-icon">
              <img src="https://i.postimg.cc/k2Z7gqft/Whats-App-Image-2025-06-30-at-11-37-37.jpg"
                   alt="Иконка аналитики"
                   style="width: 56px; height: 56px; object-fit: cover; border-radius: 12px;">
            </div>
            <h3 class="text-center">Аналитика продаж</h3>
          </div>

          <!-- Карточка "Файлы риелторов" -->
          <div class="modern-card" 
               data-url="" 
               tabindex="0" 
               role="button" 
               aria-label="Файлы риелторов - инструменты и шаблоны для эффективной работы">
            <div class="gradient-icon">
              <img src="https://i.postimg.cc/28q4F0Y3/Whats-App-Image-2025-06-30-at-11-44-49.jpg" 
                   alt="Иконка файлов" 
                   style="width: 56px; height: 56px; object-fit: cover; border-radius: 12px;">
            </div>
            <h3>Файлы риелторов</h3>
          </div>

          <!-- Карточка "Лидерство команд" -->
          <div class="modern-card" 
               tabindex="0" 
               role="button" 
               aria-label="Лидерство команд - формирование команд и развитие талантов">
            <div class="gradient-icon">
              <img src="https://i.postimg.cc/xXWqFvr7/Whats-App-Image-2025-06-30-at-11-50-13.jpg" 
                   alt="Иконка лидерства" 
                   style="width: 56px; height: 56px; object-fit: cover; border-radius: 12px;">
            </div>
            <h3>Лидерство команд</h3>
          </div>

          <!-- Карточка "HR Аналитика" -->
          <div class="modern-card" 
               data-url="" 
               tabindex="0" 
               role="button" 
               aria-label="HR Аналитика - метрики персонала и глубокая аналитика">
            <div class="gradient-icon">
              <img src="https://i.postimg.cc/GBKwsRjQ/Whats-App-Image-2025-06-30-at-11-52-57.jpg" 
                   alt="Иконка HR аналитики" 
                   style="width: 56px; height: 56px; object-fit: cover; border-radius: 12px;">
            </div>
            <h3>HR Аналитика</h3>
          </div>

          <!-- Карточка "Отдел адаптации" -->
          <div class="modern-card" 
               tabindex="0" 
               role="button" 
               aria-label="Отдел адаптации - адаптация и интеграция новых сотрудников">
            <div class="gradient-icon">
              <img src="https://i.postimg.cc/GTYXGJCC/Whats-App-Image-2025-06-30-at-11-55-21.jpg" 
                   alt="Иконка адаптации" 
                   style="width: 56px; height: 56px; object-fit: cover; border-radius: 12px;">
            </div>
            <h3>Отдел адаптации</h3>
          </div>

          <!-- Карточка "Управление" -->
          <div class="modern-card" 
               tabindex="0" 
               role="button" 
               aria-label="Управление - организация и контроль всех процессов">
            <div class="gradient-icon">
              <img src="https://i.postimg.cc/phKjB0pq/Whats-App-Image-2025-06-30-at-11-57-17.jpg" 
                   alt="Иконка управления" 
                   style="width: 56px; height: 56px; object-fit: cover; border-radius: 12px;">
            </div>
            <h3>Управление</h3>
          </div>

          <!-- Карточка "Отдел ипотеки" -->
          <div class="modern-card" 
               data-url="" 
               tabindex="0" 
               role="button" 
               aria-label="Отдел ипотеки - решения по ипотеке и кредитованию">
            <div class="gradient-icon">
              <img src="https://i.postimg.cc/SYMDpLTP/Whats-App-Image-2025-06-30-at-12-02-42.jpg" 
                   alt="Иконка ипотеки" 
                   style="width: 56px; height: 56px; object-fit: cover; border-radius: 12px;">
            </div>
            <h3>Отдел ипотеки</h3>
          </div>

          <!-- Карточка "Юридический отдел" -->
          <div class="modern-card" 
               data-url="lawyers.html" 
               tabindex="0" 
               role="button" 
               aria-label="Юридический отдел - правовое сопровождение и экспертиза">
            <div class="gradient-icon">
              <img src="https://i.postimg.cc/GHzsm8Wg/Whats-App-Image-2025-06-30-at-12-04-39.jpg" 
                   alt="Иконка юридического отдела" 
                   style="width: 56px; height: 56px; object-fit: cover; border-radius: 12px;">
            </div>
            <h3>Юридический отдел</h3>
          </div>

          <!-- Карточка "Информация" -->
          <div class="modern-card" 
               tabindex="0" 
               role="button" 
               aria-label="Информация - поддержка и управление корпоративными знаниями">
            <div class="gradient-icon">
              <img src="https://i.postimg.cc/mhBYZscD/Whats-App-Image-2025-06-30-at-12-06-17.jpg" 
                   alt="Иконка информации" 
                   style="width: 56px; height: 56px; object-fit: cover; border-radius: 12px;">
            </div>
            <h3 class="text-center">Информация</h3>
          </div>

        </div>
      </div>
    </main>

    <!-- Футер -->
    <footer class="py-8 text-center">
      <p style="color: #666;">© 2025 Станислав Сизько. Все права защищены.</p>
      <address style="text-align: center; font-style: normal; margin-top: 8px; color: #666;">
        г.Ростов-на-Дону., пр-кт Шоллохова 22, 344019
      </address>
    </footer>
  </div>

  <!-- Страница аналитики -->
  <div id="analyticsPage" class="min-h-screen flex-col" style="display:none;">
    <!-- Хедер страницы аналитики -->
    <header class="py-4 md:py-6 px-4">
      <div class="max-w-4xl mx-auto">
        <!-- Кнопки навигации -->
        <div class="nav-buttons justify-start mb-4 md:mb-6">
          <button onclick="showMain()" 
                  class="nav-button"
                  aria-label="Вернуться на главную страницу">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
            </svg>
            Назад
          </button>
          
          <button onclick="showMain()" 
                  class="nav-button"
                  aria-label="На главную">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
            </svg>
            Главная
          </button>
        </div>
        
        <!-- Заголовок с логотипом - отцентрирован -->
        <div class="text-center">
          <div class="logo-container mb-4" onclick="showMain()" style="cursor: pointer;" tabindex="0" role="button" aria-label="Логотип - вернуться на главную">
            <img id="analyticsLogo" src="" alt="" class="analytics-logo mx-auto" style="display: none; max-height: 120px; border-radius: 12px; filter: drop-shadow(0 8px 16px rgba(252, 64, 58, 0.25));">
          </div>
          <h1 id="analyticsTitle" class="text-lg md:text-2xl font-bold flex items-center justify-center gap-2 md:gap-3 mb-2" style="color: #130909;">
            <span id="analyticsTitleText"></span>
          </h1>
          <h2 style="color: #130909;" class="text-base md:text-xl font-medium">Выберите раздел</h2>
        </div>
      </div>
    </header>

    <!-- Контент страницы аналитики -->
    <main class="flex-1 px-4 py-4 md:py-8">
      <div class="max-w-4xl mx-auto">        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4 max-w-3xl mx-auto px-2 md:px-0">
          <button class="analytics-button text-sm md:text-base" aria-label="Метрики эффективности - анализ ключевых показателей">Метрики эффективности</button>
          <button class="analytics-button text-sm md:text-base" aria-label="Автоматизация отчётности - автоматическое создание отчетов">Автоматизация отчётности</button>
          <button class="analytics-button text-sm md:text-base" aria-label="Воронка продаж - анализ этапов и конверсии">Воронка продаж</button>
          <button class="analytics-button text-sm md:text-base" aria-label="Дашборд BI - интерактивные дашборды бизнес-аналитики">Дашборд BI</button>
          <button class="analytics-button text-sm md:text-base" aria-label="A/B-тесты - тестирование различных подходов">A/B-тесты</button>
          <button class="analytics-button text-sm md:text-base" aria-label="Оптимизация процессов - улучшение бизнес-процессов">Оптимизация процессов</button>
        </div>
      </div>
    </main>

    <footer class="py-6 text-center">
      <p style="color: #130909;" class="text-sm opacity-75">© 2025 Станислав Сизько</p>
    </footer>
  </div>

  <script>
    // ИСПРАВЛЕННЫЙ JAVASCRIPT - инкапсуляция в объект
    const Dashboard = {
      // Приватные переменные
      recentItems: [],
      
      // Утилиты с проверкой существования элементов
      utils: {
        safeGetElement(id) {
          const element = document.getElementById(id);
          if (!element) {
            console.warn(`Элемент с id "${id}" не найден`);
          }
          return element;
        },
        
        safeQuerySelector(selector) {
          const element = document.querySelector(selector);
          if (!element) {
            console.warn(`Элемент с селектором "${selector}" не найден`);
          }
          return element;
        },

        // Безопасная установка HTML контента
        safeSetHTML(element, html) {
          if (element) {
            // Простая санитизация - убираем script теги
            const sanitized = html.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi, '');
            element.innerHTML = sanitized;
          }
        },

        // Безопасная установка текста
        safeSetText(element, text) {
          if (element) {
            element.textContent = text;
          }
        }
      },

      // Создание анимированных частиц
      createParticles() {
        const container = this.utils.safeGetElement('particles');
        if (!container) return;
        
        container.innerHTML = '';
        
        const particleCount = window.innerWidth < 768 ? 15 : 30;
        
        for (let i = 0; i < particleCount; i++) {
          const particle = document.createElement('div');
          particle.className = 'particle';
          
          particle.style.left = Math.random() * 100 + '%';
          particle.style.animationDelay = Math.random() * 8 + 's';
          particle.style.animationDuration = (Math.random() * 4 + 6) + 's';
          
          const baseSize = window.innerWidth < 768 ? 2 : 3;
          const size = Math.random() * baseSize + 2;
          particle.style.width = size + 'px';
          particle.style.height = size + 'px';
          
          container.appendChild(particle);
        }
      },

      // Функции прелоадера
      showLoader() {
        const loader = this.utils.safeGetElement('loadingIndicator');
        if (loader) loader.style.display = 'block';
      },

      hideLoader() {
        const loader = this.utils.safeGetElement('loadingIndicator');
        if (loader) loader.style.display = 'none';
      },

      // Навигация
      showAnalytics(title) {
        try {
          const mainPage = this.utils.safeGetElement('mainPage');
          const analyticsPage = this.utils.safeGetElement('analyticsPage');
          
          if (!mainPage || !analyticsPage) return;
          
          mainPage.style.transition = 'opacity 0.3s ease';
          mainPage.style.opacity = '0';
          
          setTimeout(() => {
            mainPage.style.display = 'none';
            analyticsPage.style.display = 'flex';
            analyticsPage.classList.add('show');
            
            const titleElement = this.utils.safeGetElement('analyticsTitleText');
            this.utils.safeSetText(titleElement, title);
            
            this.addToRecent(title);
            
            const iconMap = {
              'Аналитика продаж': 'https://i.postimg.cc/k2Z7gqft/Whats-App-Image-2025-06-30-at-11-37-37.jpg',
              'Файлы риелторов': 'https://i.postimg.cc/28q4F0Y3/Whats-App-Image-2025-06-30-at-11-44-49.jpg',
              'Лидерство команд': 'https://i.postimg.cc/xXWqFvr7/Whats-App-Image-2025-06-30-at-11-50-13.jpg',
              'HR Аналитика': 'https://i.postimg.cc/GBKwsRjQ/Whats-App-Image-2025-06-30-at-11-52-57.jpg',
              'Отдел адаптации': 'https://i.postimg.cc/GTYXGJCC/Whats-App-Image-2025-06-30-at-11-55-21.jpg',
              'Управление': 'https://i.postimg.cc/phKjB0pq/Whats-App-Image-2025-06-30-at-11-57-17.jpg',
              'Отдел ипотеки': 'https://i.postimg.cc/SYMDpLTP/Whats-App-Image-2025-06-30-at-12-02-42.jpg',
              'Юридический отдел': 'https://i.postimg.cc/GHzsm8Wg/Whats-App-Image-2025-06-30-at-12-04-39.jpg',
              'Информация': 'https://i.postimg.cc/mhBYZscD/Whats-App-Image-2025-06-30-at-12-06-17.jpg'
            };
            
            const logoElement = this.utils.safeGetElement('analyticsLogo');
            if (logoElement && iconMap[title]) {
              logoElement.src = iconMap[title];
              logoElement.alt = title;
              logoElement.style.display = 'block';
            } else if (logoElement) {
              logoElement.style.display = 'none';
            }
            
            setTimeout(() => {
              analyticsPage.style.opacity = '1';
            }, 50);
            
          }, 300);
        } catch (error) {
          console.error('Ошибка при показе аналитики:', error);
        }
      },

      showMain() {
        try {
          const mainPage = this.utils.safeGetElement('mainPage');
          const analyticsPage = this.utils.safeGetElement('analyticsPage');
          
          if (!mainPage || !analyticsPage) return;
          
          analyticsPage.style.transition = 'opacity 0.3s ease';
          analyticsPage.style.opacity = '0';
          
          setTimeout(() => {
            analyticsPage.style.display = 'none';
            analyticsPage.classList.remove('show');
            mainPage.style.display = 'flex';
            
            this.updateQuickAccess();
            
            setTimeout(() => {
              mainPage.style.opacity = '1';
            }, 50);
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
          }, 300);
        } catch (error) {
          console.error('Ошибка при показе главной:', error);
        }
      },

      // Работа с недавними
      addToRecent(title) {
        this.recentItems = this.recentItems.filter(item => item !== title);
        this.recentItems.unshift(title);
        this.recentItems = this.recentItems.slice(0, 6);
        this.updateQuickAccess();
      },

      updateQuickAccess() {
        try {
          const quickAccessSection = this.utils.safeGetElement('quickAccessSection');
          const recentSection = this.utils.safeGetElement('recentSection');
          const recentGrid = this.utils.safeGetElement('recentGrid');
          
          if (!quickAccessSection || !recentSection || !recentGrid) return;
          
          if (this.recentItems.length > 0) {
            quickAccessSection.style.display = 'block';
            recentSection.style.display = 'block';
            
            const iconMap = {
              'Аналитика продаж': 'https://i.postimg.cc/k2Z7gqft/Whats-App-Image-2025-06-30-at-11-37-37.jpg',
              'Файлы риелторов': 'https://i.postimg.cc/28q4F0Y3/Whats-App-Image-2025-06-30-at-11-44-49.jpg',
              'Лидерство команд': 'https://i.postimg.cc/xXWqFvr7/Whats-App-Image-2025-06-30-at-11-50-13.jpg',
              'HR Аналитика': 'https://i.postimg.cc/GBKwsRjQ/Whats-App-Image-2025-06-30-at-11-52-57.jpg',
              'Отдел адаптации': 'https://i.postimg.cc/GTYXGJCC/Whats-App-Image-2025-06-30-at-11-55-21.jpg',
              'Управление': 'https://i.postimg.cc/phKjB0pq/Whats-App-Image-2025-06-30-at-11-57-17.jpg',
              'Отдел ипотеки': 'https://i.postimg.cc/SYMDpLTP/Whats-App-Image-2025-06-30-at-12-02-42.jpg',
              'Юридический отдел': 'https://i.postimg.cc/GHzsm8Wg/Whats-App-Image-2025-06-30-at-12-04-39.jpg',
              'Информация': 'https://i.postimg.cc/mhBYZscD/Whats-App-Image-2025-06-30-at-12-06-17.jpg'
            };
            
            const itemsHTML = this.recentItems.map(title => {
              const escapedTitle = title.replace(/'/g, '&#39;');
              return `
                <div class="quick-access-item" onclick="Dashboard.showAnalytics('${escapedTitle}')" tabindex="0" role="button" aria-label="Недавний: ${title}">
                  <img src="${iconMap[title] || ''}" alt="${title}" class="quick-access-icon">
                  <span class="quick-access-text">${title}</span>
                </div>
              `;
            }).join('');
            
            this.utils.safeSetHTML(recentGrid, itemsHTML);
          } else {
            quickAccessSection.style.display = 'none';
          }
        } catch (error) {
          console.error('Ошибка при обновлении быстрого доступа:', error);
        }
      },

      // База данных поиска
      searchDatabase: [
        {
          title: 'Аналитика продаж',
          description: 'Системный анализ и автоматизация процессов продаж',
          icon: 'https://i.postimg.cc/k2Z7gqft/Whats-App-Image-2025-06-30-at-11-37-37.jpg',
          type: 'section',
          keywords: ['аналитика', 'продажи', 'анализ', 'автоматизация', 'процессы', 'статистика', 'отчеты', 'метрики', 'kpi', 'показатели', 'воронка', 'конверсия', 'crm', 'система', 'данные']
        },
        {
          title: 'Файлы риелторов',
          description: 'Инструменты и шаблоны для эффективной работы',
          icon: 'https://i.postimg.cc/28q4F0Y3/Whats-App-Image-2025-06-30-at-11-44-49.jpg',
          type: 'section',
          keywords: ['файлы', 'риелторы', 'инструменты', 'шаблоны', 'документы', 'формы', 'договоры', 'презентации', 'брошюры', 'материалы', 'контент', 'скрипты', 'переговоры']
        },
        {
          title: 'Лидерство команд',
          description: 'Формирование команд и развитие талантов',
          icon: 'https://i.postimg.cc/xXWqFvr7/Whats-App-Image-2025-06-30-at-11-50-13.jpg',
          type: 'section',
          keywords: ['лидерство', 'команды', 'формирование', 'развитие', 'таланты', 'управление', 'мотивация', 'коучинг', 'наставничество', 'рост', 'карьера', 'навыки']
        },
        {
          title: 'HR Аналитика',
          description: 'Метрики персонала и глубокая аналитика',
          icon: 'https://i.postimg.cc/GBKwsRjQ/Whats-App-Image-2025-06-30-at-11-52-57.jpg',
          type: 'section',
          keywords: ['hr', 'аналитика', 'персонал', 'метрики', 'кадры', 'сотрудники', 'статистика', 'эффективность', 'производительность', 'зарплата', 'премии', 'бонусы']
        },
        {
          title: 'Отдел адаптации',
          description: 'Адаптация и интеграция новых сотрудников',
          icon: 'https://i.postimg.cc/GTYXGJCC/Whats-App-Image-2025-06-30-at-11-55-21.jpg',
          type: 'section',
          keywords: ['адаптация', 'интеграция', 'новые', 'сотрудники', 'обучение', 'ввод', 'онбординг', 'стажировка', 'испытательный', 'период', 'наставник']
        },
        {
          title: 'Управление',
          description: 'Организация и контроль всех процессов',
          icon: 'https://i.postimg.cc/phKjB0pq/Whats-App-Image-2025-06-30-at-11-57-17.jpg',
          type: 'section',
          keywords: ['управление', 'организация', 'контроль', 'процессы', 'менеджмент', 'координация', 'планирование', 'стратегия', 'тактика', 'цели', 'задачи']
        },
        {
          title: 'Отдел ипотеки',
          description: 'Решения по ипотеке и кредитованию',
          icon: 'https://i.postimg.cc/SYMDpLTP/Whats-App-Image-2025-06-30-at-12-02-42.jpg',
          type: 'section',
          keywords: ['ипотека', 'кредитование', 'займы', 'банки', 'финансы', 'недвижимость', 'сделки', 'документы', 'оформление', 'ставки', 'условия']
        },
        {
          title: 'Юридический отдел',
          description: 'Правовое сопровождение и экспертиза',
          icon: 'https://i.postimg.cc/GHzsm8Wg/Whats-App-Image-2025-06-30-at-12-04-39.jpg',
          type: 'section',
          keywords: ['юридический', 'правовое', 'сопровождение', 'экспертиза', 'закон', 'документы', 'консультации', 'договоры', 'суд', 'споры', 'права']
        },
        {
          title: 'Информация',
          description: 'Поддержка и управление корпоративными знаниями',
          icon: 'https://i.postimg.cc/mhBYZscD/Whats-App-Image-2025-06-30-at-12-06-17.jpg',
          type: 'section',
          keywords: ['информация', 'поддержка', 'знания', 'корпоративные', 'база', 'данные', 'справочник', 'инструкции', 'помощь', 'документация']
        }
      ],

      // Поиск
      searchTools(query) {
        if (!query.trim()) return [];
        
        const searchTerm = query.toLowerCase().trim();
        const results = this.searchDatabase.filter(item => {
          return item.title.toLowerCase().includes(searchTerm) ||
                 item.description.toLowerCase().includes(searchTerm) ||
                 item.keywords.some(keyword => keyword.includes(searchTerm));
        });

        return results.sort((a, b) => {
          const aExactTitle = a.title.toLowerCase().includes(searchTerm);
          const bExactTitle = b.title.toLowerCase().includes(searchTerm);
          if (aExactTitle && !bExactTitle) return -1;
          if (bExactTitle && !aExactTitle) return 1;
          return 0;
        });
      },

      displaySearchResults(results) {
        const resultsContainer = this.utils.safeGetElement('searchResults');
        if (!resultsContainer) return;
        
        if (results.length === 0) {
          resultsContainer.style.display = 'none';
          return;
        }
        
        resultsContainer.innerHTML = '';
        
        results.forEach(item => {
          const resultItem = document.createElement('div');
          resultItem.className = 'search-result-item';
          resultItem.setAttribute('role', 'option');
          resultItem.setAttribute('tabindex', '0');
          
          const iconHtml = item.icon 
            ? `<img src="${item.icon}" alt="${item.title}" class="search-result-icon">`
            : `<div class="search-result-icon" style="background: linear-gradient(135deg, #FC403A, #ff6b66); display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 12px;">?</div>`;
          
          resultItem.innerHTML = `
            ${iconHtml}
            <div class="search-result-text">
              <div class="search-result-title">${item.title}</div>
              <div class="search-result-description">${item.description}</div>
            </div>
          `;
          
          resultItem.addEventListener('click', () => {
            this.handleSearchResultClick(item);
          });
          
          // Поддержка клавиатуры
          resultItem.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
              e.preventDefault();
              this.handleSearchResultClick(item);
            }
          });
          
          resultsContainer.appendChild(resultItem);
        });
        
        resultsContainer.style.display = 'block';
      },

      handleSearchResultClick(item) {
        const searchInput = this.utils.safeGetElement('searchInput');
        const searchResults = this.utils.safeGetElement('searchResults');
        
        if (searchInput) searchInput.value = '';
        if (searchResults) searchResults.style.display = 'none';
        
        if (item.type === 'section') {
          this.showAnalytics(item.title);
        }
      },

      // Обновление прогресса прокрутки
      updateScrollProgress() {
        const scrolled = window.scrollY;
        const height = document.documentElement.scrollHeight - window.innerHeight;
        const progress = height > 0 ? (scrolled / height) * 100 : 0;
        const progressBar = this.utils.safeGetElement('scrollProgress');
        if (progressBar) {
          progressBar.style.width = progress + '%';
        }
      },

      // Инициализация
      init() {
        try {
          this.createParticles();
          
          // Инициализация поиска
          const searchInput = this.utils.safeGetElement('searchInput');
          const searchResults = this.utils.safeGetElement('searchResults');
          
          if (searchInput) {
            searchInput.addEventListener('input', (e) => {
              const query = e.target.value;
              const results = this.searchTools(query);
              this.displaySearchResults(results);
            });

            searchInput.addEventListener('focus', function() {
              if (this.value.trim()) {
                const results = Dashboard.searchTools(this.value);
                Dashboard.displaySearchResults(results);
              }
            });

            // Поддержка клавиатуры для поиска
            searchInput.addEventListener('keydown', (e) => {
              if (e.key === 'Escape') {
                searchInput.blur();
                if (searchResults) searchResults.style.display = 'none';
              }
            });
          }
          
          // Скрытие результатов при клике вне поиска
          document.addEventListener('click', (e) => {
            if (searchInput && searchResults && 
                !searchInput.contains(e.target) && 
                !searchResults.contains(e.target)) {
              searchResults.style.display = 'none';
            }
          });
          
          // Обработчики карточек
          const cards = document.querySelectorAll('.modern-card');
          cards.forEach((card) => {
            const handleCardAction = () => {
              card.style.transform = 'scale(0.96)';
              setTimeout(() => {
                card.style.transform = '';
              }, 150);
              
              const titleElement = card.querySelector('h3');
              const title = titleElement ? titleElement.textContent : 'Неизвестный раздел';
              
              const url = card.getAttribute('data-url');
              
              if (url && url.trim() !== '') {
                // Все ссылки открываются в том же окне
                this.showLoader();
                setTimeout(() => {
                  window.location.href = url;
                  this.hideLoader();
                  this.addToRecent(title);
                }, 500);
              } else {
                // Показываем страницу аналитики для карточек без URL
                setTimeout(() => {
                  this.showAnalytics(title);
                }, 200);
              }
            };

            // Клик мышью
            card.addEventListener('click', handleCardAction);
            
            // Поддержка клавиатуры
            card.addEventListener('keydown', (e) => {
              if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                handleCardAction();
              }
            });
            
            // Эффекты мыши только для десктопа
            if (window.innerWidth > 1024 && window.matchMedia('(hover: hover)').matches) {
              card.addEventListener('mousemove', (e) => {
                const rect = card.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                
                const centerX = rect.width / 2;
                const centerY = rect.height / 2;
                
                const rotateX = (y - centerY) / 30;
                const rotateY = (centerX - x) / 30;
                
                card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) translateY(-4px) scale(1.02)`;
              });
              
              card.addEventListener('mouseleave', () => {
                card.style.transform = '';
              });
            }
          });
          
          // Параллакс для частиц (только десктоп)
          if (window.innerWidth > 768) {
            let mouseX = 0;
            let mouseY = 0;
            let currentX = 0;
            let currentY = 0;
            
            document.addEventListener('mousemove', (e) => {
              mouseX = (e.clientX / window.innerWidth - 0.5) * 2;
              mouseY = (e.clientY / window.innerHeight - 0.5) * 2;
            });
            
            const animateParticles = () => {
              currentX += (mouseX - currentX) * 0.1;
              currentY += (mouseY - currentY) * 0.1;
              
              const particles = document.querySelectorAll('.particle');
              particles.forEach((particle, index) => {
                const speed = (index % 5 + 1) * 0.5;
                const x = currentX * speed * 10;
                const y = currentY * speed * 10;
                particle.style.transform = `translate(${x}px, ${y}px)`;
              });
              
              requestAnimationFrame(animateParticles);
            };
            
            animateParticles();
          }
          
          // Обработчик изменения размера окна
          let resizeTimeout;
          window.addEventListener('resize', () => {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(() => {
              this.createParticles();
            }, 250);
          });
          
          // Intersection Observer для анимаций
          const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
          };
          
          const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
              if (entry.isIntersecting) {
                entry.target.style.animationPlayState = 'running';
              }
            });
          }, observerOptions);
          
          cards.forEach(card => {
            observer.observe(card);
          });
          
          // Обработчик прокрутки
          window.addEventListener('scroll', () => {
            this.updateScrollProgress();
            
            // Параллакс для заголовка
            const scrolled = window.pageYOffset;
            const parallax = this.utils.safeQuerySelector('.animated-title');
            if (parallax && window.innerWidth > 768) {
              const speed = scrolled * 0.2;
              parallax.style.transform = `translateY(${speed}px)`;
            }
          });

          // Обработчик кнопок аналитики
          document.addEventListener('click', (e) => {
            if (e.target.classList.contains('analytics-button')) {
              e.target.style.transform = 'scale(0.95)';
              setTimeout(() => {
                e.target.style.transform = '';
              }, 200);
              
              console.log('Выбран раздел:', e.target.textContent);
            }
          });

        } catch (error) {
          console.error('Ошибка при инициализации:', error);
        }
      }
    };

    // Глобальные функции для обратной совместимости
    function showAnalytics(title) {
      Dashboard.showAnalytics(title);
    }

    function showMain() {
      Dashboard.showMain();
    }

    // Инициализация при загрузке DOM
    document.addEventListener('DOMContentLoaded', function() {
      Dashboard.init();
    });

  </script>

</body>
</html>
